<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../styles/style.css?v=1">
  <title>Lemur's Corner!</title>
</head>        
<body class="layout_compact">
    <div class="page_wrapper">
        <header class="site_header">
            <h1>Lemur's Corner<span class="blink">_</span></h1>
        </header>

        <div class="banner">✦ WEBSITE UNDER CONSTRUCTION — THINGS WILL CHANGE ✦</div>

        <div class="body_row">
            <aside class="side_bar">
                <div class="box">
                <div class="imgbox">
                    <img src='https://tse4.mm.bing.net/th/id/OIP.eT-12ILCJSVQ9aWilq-y6gHaE8?pid=Api'
                        alt="Cute lemur image (placeholder)">
                </div>
                </div>
                <div class="box">
                <div class="box_header">Navigate</div>
                <div style="padding: 4px 0;">
                    <a class="nav_link" href="https://the-lemur.me/">Home</a>
                    <a class="nav_link" href="https://the-lemur.me/about me">About Me</a>
                    <a class="nav_link" href="https://the-lemur.me/links">Links</a>
                    <a class="nav_link" href="https://the-lemur.atabook.org/">Guestbook</a>
                    <a class="nav_link_work_in_progress" href="#">Work in progress</a>
                </div>
                <button id="layout_toggle" onclick="toggleLayout()">⇄ Switch to Wide Layout</button>
                </div>
            </aside>
            <div class="content_area">
                <div class="box span_full">
                    <div class="page_header">
                        <h1>About Me</h1>
                    </div>
                </div>
            </div>
    </div>
    <script>
    function getCookie(name) {
      const value = `; ${document.cookie}`;
      const parts = value.split(`; ${name}=`);
      if (parts.length === 2) return decodeURIComponent(parts.pop().split(';').shift());
    }

    function setCookie(name, value, days) {
      const expires = new Date(Date.now() + days * 864e5).toUTCString();
      document.cookie = `${name}=${encodeURIComponent(value)}; expires=${expires}; path=/; SameSite=Lax`;
    }

    function applyLayout(layout) {
      if (window.innerWidth <= 700) layout = 'wide';
      document.body.classList.remove('layout_compact', 'layout_wide');
      document.body.classList.add('layout_' + layout);
      const btn = document.getElementById('layout_toggle');
      btn.textContent = layout === 'wide' ? '⇄ Switch to Compact Layout' : '⇄ Switch to Wide Layout';
    }

    function toggleLayout() {
      const current = document.body.classList.contains('layout_wide') ? 'wide' : 'compact';
      const next = current === 'wide' ? 'compact' : 'wide';
      setCookie('layout_pref', next, 365);
      applyLayout(next);
    }

    (function init() {
      document.cookie = "layout=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
      const params = new URLSearchParams(window.location.search);
      const urlLayout = params.get('layout');
      const cookieLayout = getCookie('layout_pref');
      const layout = urlLayout || cookieLayout || 'compact';
      if (urlLayout) setCookie('layout_pref', urlLayout, 365);
      applyLayout(layout);
    })();
  </script>
</body>
</html>